CXX = g++
CXXFLAGS = -O3 -std=c++11 
CPPFLAGS = -I. -I../mbpol
LDFLAGS = -fopenmp

all: clean test-mbpol

test-mbpol: test-mbpol_openmp.o io-xyz.o xyz-water-utils.o timestamps.o
	$(CXX) -o test-mbpol test-mbpol_openmp.o io-xyz.o xyz-water-utils.o timestamps.o \
                  ../mbpol/libmbpol.a $(LDFLAGS) $(CXXFLAGS)

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $< -o $@

clean:
	rm -f test-mbpol *.o

.PHONY: all clean
